<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>FormDePelicula</title>
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
	</head>
	<body class="container">
		<h1>FormDePelicula</h1>
		<form action="http://localhost:8080/enviar" method="post">

			<label 
			for="titulo">Ingrese el titulo de la pelicula</label>
			<input class="form-control" type="text" name="titulo" placeholder="Ej: El Padrino">

			<br>

			<h6>Ingrese poster de la pelicula</h6>

			<div class="custom-file">
				<label class="custom-file-label" for="poster">Seleccionar Archivo</label>
  				<input type="file" class="custom-file-input" name="poster" lang="es">
			</div>
			
			<br>
			<br>

			<label for="descripcion">Ingrese descripcion de la pelicula</label>
			<textarea class="form-control" name="descripcion" cols="30" rows="5" placeholder="Max: 300 caracteres"></textarea>

			<br>

			<h6>Ingrese trailer de la pelicula</h6>

			<div class="custom-file">
				<label class="custom-file-label" for="trailer">Seleccionar Archivo</label>
  				<input type="file" class="custom-file-input" name="trailer" lang="es">
			</div>
			

			<br>
			<br>

			<input class="btn btn-primary" type="submit" value="Done!">

		</form>
		
<!--
		<script>

			const formulario = document.querySelector("form")

			formulario.onsubmit = function(evento){ //Funcion anonima porque lo voy a usar una sola vez, es un solo formulario en todo el sitio web
				evento.preventDefault()
				//alert("Vamo a enviar lo dato...") //los datos están en el formulario

				let ahora = new Date()
				let datos = new FormData(this) //palabra reservada 'this' > sirve para referirse al elemento que esta provocando esa ejecucion. se esta ejecutando ante el formulario, se refiere a el (el form a traves de la ejecucion onsubit, metelo en formData y agregale la fecha)

				datos.append("fecha", ahora.valueOf() ) //Armar un formulario fantasma, creando nuevos datos y anexandolos a este formulario.

					//Enviar datos asincronicamente... //antes se resolvia con el objeto xtml http request, ahora está la nueva forma que usaremos abajo >>> api fetch (significa traer/obtener)

				//Enviar datos asincronicamente...

				fetch(this.action, { //enviar los datos y entonces crear una respuesta > se le puede concatenar varios metodos then, que se iran ejecutando en cadena, comenzado por el primero asincronicamente. luego de que espera y comienza el primero, se van ejecutando secuencialmente. es la forma mas evolucionada de los callbacks. 
				// FETCH > a donde voy a enviar los datos? al endpoint. y como accedo a el? "http://localhost/enviar" > si es solo get solo necesito eso, si es post o get con mas info lo hago con > this.action > y el dia de mañana puedo actualizar la ruta del action en el form y listo.
					method : this.method,
					body : datos
				}).then(function(response){ //la respuesta va a ser json (tanto si sae bien como si sale mal)
					return response.json() //esa rta. convertida de json a obj.
				}).then(function(server){

					console.clear()
					alert(server.msg)
					console.log(server)

				})

			}
			
		</script> -->
	</body>
</html>